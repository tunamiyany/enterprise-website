# 端口管理说明

## 🔌 项目端口分配

### 当前项目
- **企业网站项目**: http://localhost:3001
- **数据库管理 (Prisma Studio)**: http://localhost:5555

### 建议的端口分配方案

```
3000 - 其他主项目
3001 - 企业网站项目 ✓ (当前)
3002 - 小程序后端
3003 - 股票复盘工具
3004 - 合同管理系统
3005 - 备用项目
...
5555 - Prisma Studio (数据库管理)
```

## 📋 如何修改端口

### 方法1: 在 package.json 中修改

```json
{
  "scripts": {
    "dev": "next dev -p 3001",
    "start": "next start -p 3001"
  }
}
```

### 方法2: 临时指定端口

```bash
# 开发模式
npm run dev -- -p 3002

# 生产模式
npm start -- -p 3002
```

### 方法3: 使用环境变量

创建 `.env.local` 文件：
```
PORT=3001
```

## 🔍 检查端口占用

### Windows 系统

```bash
# 查看端口占用
netstat -ano | findstr :3001

# 结束占用端口的进程
taskkill /PID <进程ID> /F
```

### 查看所有 Node.js 进程

```bash
tasklist | findstr node
```

## 🚀 快速启动不同项目

### 创建桌面快捷方式

为每个项目创建不同的启动脚本，文件名包含端口号：

```
启动_企业网站_3001.bat
启动_小程序_3002.bat
启动_股票工具_3003.bat
```

### 使用浏览器书签

在浏览器中为每个项目创建书签：
- 📘 企业网站 - http://localhost:3001
- 📗 小程序 - http://localhost:3002
- 📙 股票工具 - http://localhost:3003

## 💡 最佳实践

### 1. 项目文档中记录端口
在每个项目的 README.md 中明确标注端口号

### 2. 使用不同的浏览器配置
- Chrome Profile 1: 企业网站项目
- Chrome Profile 2: 小程序项目
- Chrome Profile 3: 股票工具

### 3. 使用进程管理工具

安装 `concurrently` 同时运行多个项目：

```bash
npm install -g concurrently

# 同时启动多个项目
concurrently "cd 企业网站项目 && npm run dev" "cd 小程序项目 && npm run dev"
```

### 4. 使用 Docker

为每个项目创建 Docker 容器，映射不同端口：

```yaml
# docker-compose.yml
services:
  enterprise:
    ports:
      - "3001:3000"
  miniprogram:
    ports:
      - "3002:3000"
```

## 🛠️ 常见问题

### Q: 端口被占用怎么办？

A: 
```bash
# 1. 查找占用端口的进程
netstat -ano | findstr :3001

# 2. 结束进程
taskkill /PID <进程ID> /F

# 3. 或者使用其他端口
npm run dev -- -p 3002
```

### Q: 如何记住每个项目的端口？

A: 
1. 在项目根目录创建 `PORT.txt` 文件
2. 在启动脚本中显示端口号
3. 使用浏览器书签管理
4. 在 README.md 中醒目标注

### Q: 可以多个项目同时运行吗？

A: 可以！只要使用不同的端口即可。建议：
- 开发时只运行当前工作的项目
- 测试时可以同时运行多个项目
- 注意电脑性能和内存占用

## 📝 项目端口记录表

| 项目名称 | 端口 | 启动命令 | 备注 |
|---------|------|---------|------|
| 企业网站项目 | 3001 | `npm run dev` | Next.js |
| 小程序后端 | 3002 | - | 待配置 |
| 股票复盘工具 | 3003 | - | 待配置 |
| 合同管理系统 | 3004 | - | 待配置 |
| Prisma Studio | 5555 | `npm run db:studio` | 数据库管理 |

---

**提示**: 建议为每个项目分配固定端口，并在项目文档中记录，避免混淆。
